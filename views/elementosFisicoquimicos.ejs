<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <title>ODS 14 - Relaci√≥n de Variables Ambientales</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <style>
    .background-number {
      position: absolute;
      font-size: 150px;
      font-weight: bold;
      color: rgba(0, 0, 0, 0.1);
      right: 10%;
      top: 20%;
    }
    .titlepage h2 {
      color: #0066cc;
    }
    .titlepage p {
      color: #333;
    }
  </style>
</head>

<body class="main-layout">

  <!-- Header -->
  <header>
    <div class="header">
      <div class="container-fluid">
        <div class="logo"><a href="/"><img src="/images/ods_14_icon.jpg" alt="ODS 14"/></a></div>
      </div>
    </div>
  </header>

  <% let variables = [
    { id: "variable1", nombre: "Temperatura del Agua (CTD y Muestra)", indicador: "14.3.1 - Acidificaci√≥n de los oc√©anos", objetivo: "Monitorear la acidificaci√≥n del oc√©ano para comprender sus efectos y desarrollar estrategias de mitigaci√≥n.", descripcion: "La temperatura es clave en la salud marina. Su aumento afecta el equilibrio de los ecosistemas, provocando el blanqueamiento de corales y la alteraci√≥n de las especies migratorias.", medidas: "Reducir emisiones de CO‚ÇÇ, restaurar ecosistemas costeros, promover energ√≠as limpias.", estilo: "about" },
    { id: "variable2", nombre: "Transparencia y Turbidez (Secchi y CTD)", indicador: "14.1.1 - Contaminaci√≥n marina", objetivo: "Disminuir los impactos negativos de la contaminaci√≥n marina sobre la biodiversidad y la calidad del agua.", descripcion: "La transparencia del agua refleja su calidad. Altos niveles de turbidez pueden indicar contaminaci√≥n por micropl√°sticos, metales pesados y nutrientes excesivos.", medidas: "Fortalecer regulaci√≥n sobre vertidos, implementar tecnolog√≠as de filtrado, reducir residuos pl√°sticos.", estilo: "mobile" },
    { id: "variable3", nombre: "pH (Campo y Laboratorio)", indicador: "14.3.1 - Acidificaci√≥n de los oc√©anos", objetivo: "Controlar el pH marino para evitar impactos en la biodiversidad y las cadenas alimenticias oce√°nicas.", descripcion: "El descenso del pH est√° relacionado con la absorci√≥n de CO‚ÇÇ por los oc√©anos, afectando organismos calcificantes como corales y moluscos.", medidas: "Promover reducci√≥n de emisiones industriales, conservar ecosistemas marinos que absorben CO‚ÇÇ.", estilo: "about" },
    { id: "variable4", nombre: "Carbono Org√°nico en Sedimentos", indicador: "14.1.2 - Contaminaci√≥n en sedimentos", objetivo: "Limitar la acumulaci√≥n de materia org√°nica en los sedimentos para evitar la degradaci√≥n de los ecosistemas marinos.", descripcion: "El carbono org√°nico refleja los niveles de contaminaci√≥n y la actividad biol√≥gica en el agua. Excesos pueden generar zonas muertas con bajos niveles de ox√≠geno.", medidas: "Monitoreo continuo de sedimentos, reducir descargas industriales, promover la restauraci√≥n de h√°bitats marinos.", estilo: "mobile" },
    { id: "variable5", nombre: "Fluorescencia Nueva", indicador: "14.4.1 - Productividad marina", objetivo: "Garantizar una producci√≥n sostenible de recursos marinos sin afectar el equilibrio ecol√≥gico.", descripcion: "La fluorescencia se usa para medir el crecimiento del fitoplancton, fundamental en la cadena alimentaria oce√°nica. Un aumento excesivo puede ser se√±al de eutrofizaci√≥n.", medidas: "Controlar la carga de nutrientes en el agua, reducir el uso de fertilizantes agr√≠colas contaminantes.", estilo: "about" },
    { id: "variable6", nombre: "Sigma T", indicador: "14.2.1 - Gesti√≥n sostenible de los oc√©anos", objetivo: "Asegurar la estabilidad de la circulaci√≥n oce√°nica y la distribuci√≥n de ox√≠geno y nutrientes esenciales.", descripcion: "Sigma T mide la densidad del agua, afectando la estratificaci√≥n y la dispersi√≥n de nutrientes, clave en el transporte de sustancias esenciales para los ecosistemas marinos.", medidas: "Monitorear patrones de circulaci√≥n, fortalecer modelos clim√°ticos predictivos.", estilo: "mobile" }
  ]; %>

  <% variables.forEach((variable, index) => { %>
  <div id="<%= variable.id %>" class="<%= variable.estilo %>">
    <div class="container">
      <div class="row d_flex">
        <div class="col-md-7">
          <div class="titlepage">
            <h2><%= variable.nombre %></h2>
            <p><strong>Indicador:</strong> <%= variable.indicador %></p>
            <p><strong>Objetivo:</strong> <%= variable.objetivo %></p>
            <p><%= variable.descripcion %></p>
            <p><strong>Plan de acci√≥n:</strong> </p>
            <p><%= variable.medidas %></p>
          </div>
        </div>
        <div class="col-md-5">
          <canvas id="chart-<%= variable.id %>" width="400" height="200"></canvas>

          <!-- üîπ A√±adir los gr√°ficos aqu√≠, pero solo en "variable1" -->
          <% if (variable.id === "variable1") { %>
            <canvas id="grafico-temperatura-reciente" width="400" height="300"></canvas>
            <canvas id="grafico-temperatura-antiguo" width="400" height="300"></canvas>
          <% } %>
        </div>
      </div>
    </div>
  </div>
<% }); %>


  <div id="variable-temperatura" class="about">
    <div class="container">
      <div class="background-number">+</div>
      <div class="row d_flex">
        <div class="col-md-7">
          <div class="titlepage">
            <h2>Media Anual de la Temperatura</h2>
            <p><strong>Indicador:</strong> 14.3.1 - Acidificaci√≥n de los oc√©anos</p>
            <p><strong>Objetivo:</strong> Monitorear la variaci√≥n de temperatura en el agua</p>
            <p>Este gr√°fico muestra la media anual de la temperatura del agua registrada en distintos puntos de muestreo.</p>
          </div>
        </div>
        <div class="col-md-5">
          <canvas id="grafico-temperatura-reciente" width="400" height="300"></canvas>
          <canvas id="grafico-temperatura-antiguo" width="400" height="300"></canvas>
        </div>
      </div>
    </div>
  </div>

  <script src="/js/graficos.js"></script>

</body>
</html>
